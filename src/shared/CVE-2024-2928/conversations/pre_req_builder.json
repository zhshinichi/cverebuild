{
    "overview": "This project is MLflow version 2.11.2, which is vulnerable to CVE-2024-2928: a path traversal bypass in the MLflow Tracking Server\u2019s handlers. The vulnerability resides in mlflow/server/handlers.py, in the _create_experiment() method. It parses the user-supplied artifact_location URI, validates only the query portion for \u201c../\u201d sequences, but neglects the fragment portion, allowing an attacker to embed \u201c../\u201d in the URI fragment. This fragment is later concatenated to the artifact store root when servicing the get-artifact endpoint (model-versions/get-artifact), enabling local file reads (e.g., /etc/passwd). The issue was fixed in v2.11.3 by rejecting any URI that contains a fragment. To reproduce the vulnerability, one must install and launch MLflow 2.11.2 locally (without the fragment-check patch) and issue the sequence of bad requests shown in the advisory.",
    "files": "1. setup.py \u2013 Defines the package installation, entry points (mlflow CLI and server), dependencies, and package version extracted from mlflow/version.py.  \n2. requirements/core-requirements.txt \u2013 Lists all Python dependencies required to run the full MLflow server & UI (Flask, sqlalchemy, alembic, gunicorn, etc.).  \n3. mlflow/version.py \u2013 Confirms the VERSION = \"2.11.2\" being installed.  \n4. mlflow/server/handlers.py \u2013 Contains the vulnerable _create_experiment() implementation and the get-artifact endpoint logic. This file is the primary reference for verifying the absence of fragment validation.  \n5. README.rst \u2013 Documents how to install MLflow, launch the UI/server (\u201cmlflow ui\u201d), and provides context on default storage locations.  \n6. requirements/python-version.txt \u2013 Specifies the minimum supported Python version (e.g., \u201c3.8\u201d). Use a compatible Python interpreter matching this version.",
    "services": "No external services are required beyond a local MLflow Tracking Server. The server uses:\n- A file-based backend store (default SQLite file) \u2013 no separate database.\n- A local artifact root directory (default \u201c./mlruns\u201d).\nTo launch the vulnerable server:\n  1. Create a virtual environment with Python \u2265 the version in requirements/python-version.txt.\n  2. Install MLflow 2.11.2 with pip install mlflow==2.11.2 or pip install -e . (pointing at setup.py).\n  3. Install core dependencies: pip install -r requirements/core-requirements.txt.\n  4. Start the server: mlflow ui --host 127.0.0.1 --port 5000 --backend-store-uri sqlite:///mlflow.db --default-artifact-root ./mlruns\nNo authentication or other services (e.g., Redis, Postgres) are necessary.",
    "output": "Upon successful setup, the MLflow Tracking UI and API will be running locally at http://127.0.0.1:5000. The CLI command mlflow ui should start the Flask/Gunicorn server. The UI displays experiments stored in ./mlruns, and the HTTP API endpoints under /ajax-api/2.0 and /model-versions/get-artifact will be active. To verify the vulnerability, issue the curl sequence from the proof-of-concept: create an experiment with a fragment containing \u201c../\u201d sequences in its artifact_location, create a run and model version tied to that experiment, then perform a GET against /model-versions/get-artifact to read an arbitrary file (e.g., /etc/passwd). A successful exploit returns the contents of that file in the HTTP response body."
}